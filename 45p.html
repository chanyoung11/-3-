<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style(intro,44,45).css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>45페이지</title>
  </head>
     <body>
      <div class="container">
        <main>
          <section id="flower-section" class="section">
            <span class="question">
              <img src="화분.png" class="plant" alt="화분" />
              꽃 기억하기
            </span>
            <fieldset>
              <pre>
  앞서 기억해 둔 꽃 6가지를 적어보세요.
  <input type="text", id = "question1_flower1"><input type="text", id = "question1_flower2"><input type="text", id = "question1_flower3"> 
  <input type="text", id = "question1_flower4"><input type="text", id = "question1_flower5"><input type="text", id = "question1_flower6">
              </pre>
            </fieldset>
          </section>
          <section class="map-container">
            <img src="백지도.png" alt="지도" />
            <input
              type="text"
              class="input-box input-gangwon"
              placeholder="강원도"
              id="question2_state1"
            />
            <input
              type="text"
              class="input-box input-gyeonggi"
              placeholder="경기도"
              id="question2_state2"
            />
            <input
              type="text"
              class="input-box input-chungcheong"
              placeholder="충청도"
              id="question2_state3"
            />
            <input
              type="text"
              class="input-box input-jeolla"
              placeholder="전라도"
              id="question2_state4"
            />
            <input
              type="text"
              class="input-box input-gyeongsang"
              placeholder="경상도"
              id="question2_state5"
            />
            <input
              type="text"
              class="input-box input-jeju"
              placeholder="제주도"
              id="question2_state6"
            />
            
          </section>
        </main>
          <button id="submit_Button">정답 확인</button>
        </main>
        <footer class="footer">44</footer>
      </div>
    <script>
        const arr = [1,2,3,4,5,6];


        let questions= {
          input1:'',
          input2:'',   
          input3:'',
          input4:'',
          input5:'',
          input6:'',
        };

        let answer1 = {...questions};
        let answer2 = {...questions};
        
        let solution = {...questions};
        solution.input1 = '철쭉';
        solution.input2 = '개나리';
        solution.input3 = '백목련';
        solution.input4 = '백일홍';
        solution.input5 = '장미';
        solution.input6 = '참꽃';

        const onClickSubmitButton = () => {
            
          let mark = [];
            
            for(let i = 0; i < Object.keys(questions).length*2; i++){
              mark.push(0)
            }
            
            for(let i = 0; i < mark.length; i++){
              if(i < Object.keys(questions).length){
                if(Object.values(solution).indexOf(Object.values(answer1)[i]) == -1){
                  mark[i] = 1;
                }
              }
              else {
                if(Object.values(answer2)[i- Object.keys(questions).length] !=  Object.values(solution)[i-Object.keys(questions).length] || Object.values(answer2)[i- Object.keys(questions).length] == ''){
                  mark[i] = 1;
                }
                
              }
             
              
            };
            console.log(mark)
            mark.forEach((x,index) => {
              console.log(index)
                if(mark[index] === 1){
                  if(index<Object.keys(questions).length){
                    const $temp = document.querySelector(`#question1_flower${index+1}`);
                    $temp.style.borderColor = 'red';
                  }
                  else {
                    const $temp =  document.querySelector(`#question2_state${index-Object.keys(questions).length+1}`)
                    $temp.style.borderColor = 'red';
                  }
                }
              })
              console.log(mark.indexOf(1))
              if(mark.indexOf(1) != -1){
                alert('오답, 색깔이 바뀐 부분을 다시 풀어보아요')
              }
              else{
                alert('정답 잘하셨어요')
                window.location.href = "46p.html";
              }
            
        };
        
        const onInput = (number,questionNumber) => {
          return (event) => {

            if(questionNumber == 1){ 
              switch (number) {

                case 1:
                  answer1.input1 = (event.target.value);
                  break;

                case 2:
                  answer1.input2 = (event.target.value);
                  break;

                case 3:
                  answer1.input3 = (event.target.value);
                  break;

                case 4:
                  answer1.input4 = (event.target.value);
                  break;

                case 5:
                  answer1.input5 = (event.target.value);
                  break;

                case 6:
                  answer1.input6 = (event.target.value);
                  break;

                default: 
                  break;
                  
              }
            }


            else if(questionNumber==2){
                switch (number) {

                case 1:
                  answer2.input1 = (event.target.value);
                  break;

                case 2:
                  answer2.input2 = (event.target.value);
                  break;

                case 3:
                  answer2.input3 = (event.target.value);
                  break;

                case 4:
                  answer2.input4 = (event.target.value);
                  break;

                case 5:
                  answer2.input5 = (event.target.value);
                  break;

                case 6:
                  answer2.input6 = (event.target.value);
                  break;

                default: 
                  break;
                  
              }
            }

          }
        };
        
        
        arr.forEach((number) => {
          document.querySelector(`#question1_flower${number}`).addEventListener('input',onInput(number,1));
        });


        arr.forEach((number) => {
          document.querySelector(`#question2_state${number}`).addEventListener('input',onInput(number,2));
        });


        document.querySelector('#submit_Button').addEventListener('click', onClickSubmitButton);
        
    </script>

  </body>
</html>
